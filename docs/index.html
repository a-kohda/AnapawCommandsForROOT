<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>ANAPAW Commands for ROOT: ANAPAW Commands for ROOT</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">ANAPAW Commands for ROOT
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- 構築: Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'検索');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li class="current"><a href="index.html"><span>総合概要</span></a></li>
      <li><a href="files.html"><span>ファイル</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="検索" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">ANAPAW Commands for ROOT </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><ul>
<li>ROOTのヒストグラムを少ないタイプ数で操作出来るようにします。</li>
<li>コマンド名(関数名)は基本的にANAPAWに準拠してます。</li>
<li>ROOTの標準機能とは干渉しないようにしてます。</li>
<li>まだテスト中です。</li>
<li>最低限の機能は出来たので公開します。</li>
</ul>
<h2>ダウンロード</h2>
<ul>
<li>ソースコードはGitHubにあります。<ul>
<li><a href="https://github.com/a-kohda/AnapawCommandsForROOT">https://github.com/a-kohda/AnapawCommandsForROOT</a></li>
</ul>
</li>
</ul>
<h2>内容物</h2>
<ul>
<li>ReadMe.md<ul>
<li>これ。</li>
</ul>
</li>
<li><a class="el" href="anapawcmd_8C.html" title="ANAPAW Commands for ROOT で使える関数の定義 ">anapawcmd.C</a><ul>
<li>本体。後述のANAPAWモードを使わない場合は、このファイルしか使わない。</li>
</ul>
</li>
<li>apmode / apmode.cc<ul>
<li>括弧なしコマンド(ANAPAWモードでの入力)を使うための実行ファイル。</li>
</ul>
</li>
<li>Makefile<ul>
<li>apmode をビルドするために使う。anapawcmd.Cだけ使う人は要らない。</li>
</ul>
</li>
</ul>
<h2>使い方</h2>
<h3>設定</h3>
<ul>
<li><a class="el" href="anapawcmd_8C.html" title="ANAPAW Commands for ROOT で使える関数の定義 ">anapawcmd.C</a> をダウンロードして適当なところに設置してください。</li>
<li>ROOT起動後に .L /path/to/anapawcmd.C とすると読み込まれて、コマンドが使えるようになります。</li>
<li>自動読み込みを設定する場合はrootlogon.Cに以下を追記します。 <div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;gROOT-&gt;ProcessLine(&quot;.L /path/to/anapawcmd.C&quot;);</div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;gROOT-&gt;ProcessLine(&quot;SetAPStyle();&quot;);</div></div><!-- fragment --> <h3>利用可能なコマンド一覧</h3>
</li>
</ul>
<ul>
<li>使える関数の一覧はここにあります。 (テスト中)<ul>
<li><a href="https://a-kohda.github.io/AnapawCommandsForROOT/anapawcmd_8C.html#details">https://a-kohda.github.io/AnapawCommandsForROOT/anapawcmd_8C.html#details</a></li>
</ul>
</li>
<li><a class="el" href="anapawcmd_8C.html#ae46e09a426696439c75f9193807465d4">ls()</a><ul>
<li>ヒストグラムの一覧を表示。表示対象は「.ls」で表示されるもの。HID(ヒストグラムID)、次元数、タイトルを表示。</li>
</ul>
</li>
<li>ht(hid)<ul>
<li>hidを数値指定して、そのヒストグラムを表示(Draw)する。第二引数でDraw optionの指定可。</li>
</ul>
</li>
<li>hn() / hb()<ul>
<li>現在表示中のヒストグラムの次の(/前の)ヒストグラムを表示する。引数でDraw optionの指定可。</li>
</ul>
</li>
<li><a class="el" href="anapawcmd_8C.html#a5744b72548dd919d4fe2f7c39c82aebb">lgx()</a> / <a class="el" href="anapawcmd_8C.html#ac54ba5cf0d63db4a64ebb384726c5648">lgy()</a> / <a class="el" href="anapawcmd_8C.html#afd1ac3758d18b33e506b75e65b8b6ece">lgz()</a><ul>
<li>x / y / z 軸をLogスケールにする</li>
</ul>
</li>
<li><a class="el" href="anapawcmd_8C.html#a2d9f401fd873a661407395a597925e74">lnx()</a> / <a class="el" href="anapawcmd_8C.html#a6545e372a28e13af9929b37f2a49badd">lny()</a> / <a class="el" href="anapawcmd_8C.html#afc6c97556e38fd1a6e7910d17faea6ef">lnz()</a><ul>
<li>x / y / z 軸をリニアスケールにする</li>
</ul>
</li>
</ul>
<h3>不完全だけど使えるコマンド</h3>
<ul>
<li>sly()<ul>
<li>2次元ヒストグラムをx方向にスライスしてy軸への射影した1次元ヒストグラムを作成する。<ul>
<li>本家ANAPAWではスライス数を指定するが、ここでは今の所、元の2次元ヒストグラムのx方向の分割数でしかスライスできない。そして、slx()はまだ出来てない。</li>
</ul>
</li>
</ul>
</li>
<li>blowx(min, max) / blowy(min, max)<ul>
<li>ANAROOT準拠。x/y軸の表示範囲を変更する。(本家ANAPAW/ANAROOTでは新しいヒストグラムとして再生成するが、これは単に表示エリアを変えるだけ)</li>
</ul>
</li>
<li>blowx() / blowy() (引数なし)<ul>
<li>x/y軸の表示範囲を初期状態に戻す。(unzoomする)</li>
</ul>
</li>
<li>showstat() / delstat()<ul>
<li>独自機能。統計ボックスを表示 (/非表示に) する。</li>
</ul>
</li>
<li>print()<ul>
<li>現在表示中のヒストグラム(gPad)に適当なファイル名をつけてPNG画像として保存する。保存先ディレクトリは、./png, ../png, ./plots, ...と順に探し、最初に見つかったディレクトリに保存する。<ul>
<li>注意 : ディレクトリ検索にsystem関数を使っています。Linux以外のOSでは多分動作しないです。</li>
</ul>
</li>
</ul>
</li>
<li>adl()<ul>
<li>独自機能。tree-&gt;Draw()等で作成したヒストグラムをリストに登録する。(ヒストグラムIDが与えられて、後からそのIDを使って呼び出せる。)</li>
</ul>
</li>
</ul>
<h2>ANAPAWモード (apmode, ベータ版)</h2>
<ul>
<li>ANAPAWみたいに括弧なしでコマンドが使えるようにするためのプログラムです。<ul>
<li>基本的に文字列処理で "ht 1" -&gt; "ht(1)" のように整形してるだけです。</li>
</ul>
</li>
<li>試してみたい人は、ソースコード内にanapawcmd.Cへのフルパスがベタ書きされてるのでそこを直してからmakeしてください。</li>
<li>通常のROOTを起動する代わりにこのファイルを実行すると使えます。</li>
<li>ROOT本来の機能は問題なく使えるはずです。</li>
</ul>
<h2>既知のバグ</h2>
<ul>
<li>ROOT5で動かない。デフォルト引数が二重定義になってるとか言われる。気が向いたら直す。<ul>
<li>~~多分直りました。但し、makeする時のROOTのバージョンと、実行するときのROOTのバージョンが同じでないと落ちます。(2023/3/3)~~<ul>
<li>ROOT5.34/38 on Ubuntu16.04でテストしたところデフォルト引数が二重定義のエラーが依然として出る。解決策はわかったがまだ修正してない。同じ環境でapmodeをmakeしようとすると、エラーが出る。Makefileの表記順が間違ってるらしい。未修正。(2023/6/8)</li>
</ul>
</li>
</ul>
</li>
<li>DrawHistで「HistogramID」の表示が、zoneで2行以上にした時に数値ラベルと重なる (2023/3/28)<ul>
<li>表示位置設定がx軸からの相対位置になっているのが問題。そのうち直す。</li>
<li>zoneでキャンバス分割した時に一部環境で最初の枠にしか描画できない。</li>
</ul>
</li>
</ul>
<h2>更新情報</h2>
<ul>
<li>2023/7/11<ul>
<li>apmode.cc内にあるフルパスベタ書きのところを自動設定するように修正した。</li>
</ul>
</li>
<li>2023/6/28<ul>
<li>adlを使えるようにした。Makefileを修正した。(ライブラリの指定順が悪くてUbuntuでコンパイルが通らなかったのを修正。)</li>
</ul>
</li>
</ul>
<h2>リファレンスマニュアル (テスト中)</h2>
<ul>
<li>Doxygen で自動生成したマニュアル<ul>
<li><a href="https://a-kohda.github.io/AnapawCommandsForROOT/index.html">https://a-kohda.github.io/AnapawCommandsForROOT/index.html</a></li>
</ul>
</li>
</ul>
<h2>実装したい機能</h2>
<ul>
<li>文字列の引数を入れる時に" "を省略できるようにしたい </li>
</ul>
</div></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
構築: &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.11
</small></address>
</body>
</html>
