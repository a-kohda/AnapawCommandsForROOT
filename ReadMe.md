# ANAPAW Commands for ROOT
- ROOTのヒストグラムを少ないタイプ数で操作出来るようにします。
- コマンド名(関数名)は基本的にANAPAWに準拠してます。
- ROOTの標準機能とは干渉しないようにしてます。
- まだテスト中です。
- 最低限の機能は出来たので公開します。

## 内容物
- ReadMe.md
  - これ。
- anapawcmd.C
  - 本体。基本このファイルしか使わない。
- anapawcmd_backup.C
  - 過去の遺物。無視してください。
- apmode.cc
  - 括弧なしコマンド(ANAPAWモードでの入力)のテストコード。まだ完成してない。
- a.out
  - 無視してください

## 使い方
### 設定
- anapawcmd.C をダウンロードして適当なところに設置してください。
- ROOT起動後に .L /path/to/anapawcmd.C とすると読み込まれて、コマンドが使えるようになります。
- 自動読み込みを設定する場合はrootlogon.Cに以下を追記します。
```
gROOT->ProcessLine(".L /path/to/anapawcmd.C");
gROOT->ProcessLine("SetAPStyle();");
```
### 利用可能なコマンド一覧 
- ls()
  - ヒストグラムの一覧を表示。表示対象は「.ls」で表示されるもの。HID(ヒストグラムID)、次元数、タイトルを表示。

- ht(hid)
  - hidを数値指定して、そのヒストグラムを表示(Draw)する。第二引数でDraw optionの指定可。

- hn() / hb()
  - 現在表示中のヒストグラムの次の(/前の)ヒストグラムを表示する。引数でDraw optionの指定可。

- lgx() / lgy() / lgz()
  - x / y / z 軸をLogスケールにする

- lnx() / lny() / lnz()
  - x / y / z 軸をリニアスケールにする

### 不完全だけど使えるコマンド
- sly()
  - 2次元ヒストグラムをx方向にスライスしてy軸への射影した1次元ヒストグラムを作成する。
    - 本家ANAPAWではスライス数を指定するが、ここでは今の所、元の2次元ヒストグラムのx方向の分割数でしかスライスできない。そして、slx()はまだ出来てない。

- blowx(min, max) / blowy(min, max)
  - ANAROOT準拠。x/y軸の表示範囲を変更する。(本家ANAPAW/ANAROOTでは新しいヒストグラムとして再生成するが、これは単に表示エリアを変えるだけ)

- blowx() / blowy() (引数なし)
  - x/y軸の表示範囲を初期状態に戻す。(unzoomする)

- showstat() / delstat()
  - 独自機能。統計ボックスを表示 (/非表示に) する。

- print()
  - 現在表示中のヒストグラム(gPad)に適当なファイル名をつけてPNG画像として保存する。保存先ディレクトリは、./png, ../png, ./plots, ...と順に探し、最初に見つかったディレクトリに保存する。
    - 注意 : ディレクトリ検索にsystem関数を使っています。Linux以外のOSでは多分動作しないです。

## 既知のバグ
- 今の所、既知のバグはありません(解消済みです)
